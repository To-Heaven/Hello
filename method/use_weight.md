# 如何利用权重?

#### 简单介绍
- 举一个简单的例子。
    1. 现在公司有两台服务器，将这两台服务器的IP放在一个列表中，这两台服务器的性能完全相同。比如`[172.96.203.7, 172.96.203.15]`
    2. 那么当请求到达服务器的时候，我们将该请求的url通过自定义的算法转换成一个数据，用该数字与`2`相除，取余数
        - 余数如果是`0`，那么该请求就交给列表中索引为`0`的IP对应的服务器处理该请求
        - 如果余数是`1`，就交给另一个服务器处理
- 现在其中一台服务器`172.96.203.7`的出现故障处理请求的能力不如以前的，那么我们就可以将这台服务器在列表中的权重降低，降低的方式有很多，我们可以选择在列表中让`172.96.203.15`服务器IP出现两次，那么`172.96.203.15`服务器的权重就增加了，相应的`172.96.203.7`服务器的权重就降低了。这个时候，在再接到请求
    1. 将请求的url处理成的数字与`3`相除，取余数
        - 余数如果是`0`，那么该请求就交给列表中索引为`0`的IP对应的服务器处理该请求
        - 如果余数是`1和2`，就交给另一个服务器处理

- 上面就是一个权重的简单举例，在实际的部署中，通常会使用`负载均衡器`来根据每一台服务器的性能差异来分配`任务`


## 应用
#### 场景
- `Crm`项目中，当公司市场部为其销售顾问自动分配客户资源的时候，会根据每一个销售顾问的能力（比如能够同时沟通客户的最大数量，往期成单比等）来决定对每一个销售顾问分配多少客户资源，这里就用到了权重的思想。

#### 思路
1. 首先，在数据库中要有一张表，存放有每一个销售顾问的权重信息
2. 按照这张表中的权重数据生成一个列表，列表中存放的是销售顾问的对应在数据库中的`id`
3. 将列表做成一个`迭代器`，每一次`市场部`录入一条`客户信息`，都会从迭代器中取出一个销售顾问的id，并将该客户的id与销售顾问的id相关联，实现自动分配

#### 代码实现

```python

```
