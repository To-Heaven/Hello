# 关机重启命令

#### shutdown 关机重启
- 为啥选择shutdown？
	- shutdown关闭服务器时，数据会在关机前安全的保存。在早期的Linux中，除了shutdown以外的其他命令在关闭计算机的时候计算机上运行着的服务的相关数据可能会丢失
- 格式
	- `shutdown [-crh] 时间`
		- `-c`表示取消前一个关机命令
		- `-h`关机
		- `-r`重启
		- 时间
			- `now` 立刻
			- `整数n`n分钟之后关机 

- **注意**
	- 服务器的关机和重启操作要非常小心谨慎
	- 在关机和重启之前，应该关闭系统的服务，尽量使用`shutdown`命令，以保证硬盘的安全


#### 其他关机命令
- `halt`
- `poweroff`
	- 相当于直接断电，千万不要使用这个命令
- `init 0`

#### 其他重启命令
- `reboot`
- `init 6`

#### 系统运行级别 与 init
- 级别：代表了Linux启动的时候，系统的运行级别
	- `0`关机
	- `1`单用户
		- 类似Windows的安全模式，启动最少的核心的服务，其余多余的服务甚至网络都不要，主要用来修复服务器
		- 只能root用户登陆
		- 没有图形界面
	- `2`不完全多用户，并且不包含NFS服务
		- NFS服务即network file system网络文件系统，简单来说就是一个用来两个Linux主机之间文件的共享的服务。
		- 为什么不开启NFS服务？
			- NFS服务的用户验证机制比较弱，存在安全隐患，不建议使用NFS
		- 没有图形界面
			- Linux中大写的英文字母`X`以及其后面的其他数字都代表图形界面
	- `3`完全多用户
		- 没有图形界面
	- `4`未分配
	- `5`图形界面
	- `6`重启
	
###### init进程配置文件
- 位置： `/etc/inittab`

- 配置格式：
	- `id:3:initdefault:`，注意全部是冒号，如果配置错误，可能导致无法开机

- 内容：
	- init命令介绍以及配置


#### 查询系统运行级别 runlevel
- 格式
	- `runlevel`

- **注意**
	- 这个命令会返回两个数字，第一个数字表示进入本次运行界别之前，上一次系统运行的级别,，如果上一次运行级别未NULL，就会用`N`代替
	- 即使使用`init`命令切换级别出错了，操作系统的`runlevel`仍然会认为以你已经切换到的想要进入的系统级别中


#### 退出登陆命令  logout
- 会退出到登录界面
- **注意注意注意**
	- 在完成操作之后一定能够要注销，否则可能会被他人使用你已经登陆的账号做一些坏事儿